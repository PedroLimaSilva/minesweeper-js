(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(21)},15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),s=a.n(r),l=a(9),h=a(1),o=a(2),c=a(4),u=a(3),d=a(5);a(15);function b(e,t,a){return e>=t&&e<=a}function v(e,t,a,n){return!(e>0&&e<a-1)&&!(t>0&&t<n-1)}a(17);var m=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"className",value:function(){var e=this.props,t=e.visible,a=e.marked,n=e.value,i="";return i+=t?"visible value_".concat(n):a?"hidden marked ":"hidden"}},{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.onContextMenu;return i.a.createElement("td",{tabIndex:"0",className:this.className(),onClick:t,onContextMenu:a})}}]),t}(n.Component),p=(a(19),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={board:[],result:"playing"},a.beatingGame=!1,a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.height,a=e.width,n=e.mines;this.generateMines(t,a,n)}},{key:"componentWillReceiveProps",value:function(e){var t=e.height,a=e.width,n=e.mines;this.generateMines(t,a,n)}},{key:"resetState",value:function(){this.setState({board:[],result:"playing"}),this.beatingGame=!1}},{key:"generateMines",value:function(e,t,a){var n=e*t,i=a;this.resetState();for(var r=[],s=0;s<t;s++){r[s]=[];for(var l=0;l<e;l++)r[s][l]={hasMine:!1,isMarked:!1,isVisible:!1}}for(var h=0;h<e;h++)for(var o=0;o<t;o++)i/n>=Math.random()&&!v(o,h,t,e)&&(i--,r[o][h].hasMine=!0),n--;this.hidden=e*t,this.setState({board:r})}},{key:"beatGame",value:function(){this.setState({result:"Win"}),this.beatingGame||(this.beatingGame=!0,window.alert("You beat the game!"))}},{key:"onClickCell",value:function(e,t){var a=this,n=this.props.mines,i=this.state,r=i.board;if("playing"===i.result){if(this.isMarked(e,t))return;r[e][t].hasMine&&this.onGameOver();var s=r;this.isVisible(e,t)||(s[e][t].isVisible=!0,this.hidden--),0===this.cellValue(e,t)&&this.onClickZero(e,t),this.setState({board:s},function(){a.hidden===n&&a.beatGame()})}}},{key:"onRightClickCell",value:function(e,t,a){a.preventDefault();var n=this.state,i=n.board;"playing"===n.result&&(i[e][t].isMarked=!i[e][t].isMarked,this.setState({board:i}))}},{key:"onClickZero",value:function(e,t){for(var a=this.state.board,n=this.props,i=n.height,r=n.width,s=a,l=-1;l<=1;l++)for(var h=-1;h<=1;h++)b(e+l,0,r-1)&&b(t+h,0,i-1)&&!this.isVisible(e+l,t+h)&&(0===this.cellValue(e+l,t+h)?this.onClickCell(e+l,t+h):(s[e+l][t+h].isVisible=!0,this.hidden--));this.setState({board:s})}},{key:"onGameOver",value:function(){var e=this.state.board,t=this.props,a=t.height,n=t.width;window.alert("Game Over!");for(var i=e,r=0;r<n;r++)for(var s=0;s<a;s++)i[r][s].isVisible=!0;this.setState({board:i,result:"lost"})}},{key:"isVisible",value:function(e,t){return this.state.board[e][t].isVisible}},{key:"isMarked",value:function(e,t){return this.state.board[e][t].isMarked}},{key:"cellValue",value:function(e,t){var a=this.props,n=a.height,i=a.width,r=this.state.board;if(r[e][t].hasMine)return"B";for(var s=0,l=-1;l<=1;l++)for(var h=-1;h<=1;h++)b(e+l,0,i-1)&&b(t+h,0,n-1)&&r[e+l][t+h].hasMine&&s++;return s}},{key:"renderRow",value:function(e){for(var t=this.props.width,a=[],n=0;n<t;n++)a.push(i.a.createElement(m,{key:"cell_".concat(n,"_").concat(e),visible:this.isVisible(n,e),marked:this.isMarked(n,e),value:this.cellValue(n,e),onClick:this.onClickCell.bind(this,n,e),onContextMenu:this.onRightClickCell.bind(this,n,e)}));return a}},{key:"renderTable",value:function(){for(var e=this.props.height,t=[],a=0;a<e;a++)t.push(i.a.createElement("tr",{key:"row_".concat(a)},this.renderRow(a)));return i.a.createElement("table",{className:"Board"},i.a.createElement("tbody",null,t))}},{key:"render",value:function(){var e=this.props,t=e.height,a=e.width;return i.a.createElement("div",null,i.a.createElement("h1",null,"table ",t,"x",a),this.renderTable())}}]),t}(n.Component)),f=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={height:10,width:10,mines:10},a.form={height:10,width:10,mines:10},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:+t.value,n=t.name;("height"===n||"width"===n)&&a>50&&(a=50),this.setState(Object(l.a)({},n,a))}},{key:"render",value:function(){var e=this.state,t=e.height,a=e.width,n=e.mines;return i.a.createElement("div",{className:"App"},i.a.createElement("form",null,i.a.createElement("label",null,"Height:",i.a.createElement("input",{type:"number",name:"height",placeholder:"height",value:t,onChange:this.handleInputChange.bind(this)})),i.a.createElement("br",null),i.a.createElement("label",null,"Width:",i.a.createElement("input",{type:"number",name:"width",placeholder:"width",value:a,onChange:this.handleInputChange.bind(this)})),i.a.createElement("br",null),i.a.createElement("label",null,"Mines:",i.a.createElement("input",{type:"number",name:"mines",placeholder:"mines",value:n,onChange:this.handleInputChange.bind(this)}))),i.a.createElement(p,{height:this.state.height,width:this.state.width,mines:this.state.mines}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.84e3c430.chunk.js.map