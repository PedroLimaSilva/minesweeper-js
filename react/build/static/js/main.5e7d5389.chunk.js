(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(21)},15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),s=n.n(r),l=n(9),h=n(1),o=n(2),c=n(4),u=n(3),d=n(5);n(15);function b(e,t,n){return e>=t&&e<=n}function v(e,t,n,a){return e>0&&e<n-1||t>0&&t<a-1}n(17);var m=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"className",value:function(){var e=this.props,t=e.visible,n=e.marked,a=e.value,i="";return i+=t?"visible value_".concat(a):n?"hidden marked ":"hidden"}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.onContextMenu;return i.a.createElement("td",{tabIndex:"0",className:this.className(),onClick:t,onContextMenu:n})}}]),t}(a.Component),p=(n(19),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={board:[],result:"playing"},n.beatingGame=!1,n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.height,n=e.width,a=e.mines;this.generateMines(t,n,a)}},{key:"componentWillReceiveProps",value:function(e){var t=e.height,n=e.width,a=e.mines;this.generateMines(t,n,a)}},{key:"resetState",value:function(){this.setState({board:[],result:"playing"}),this.beatingGame=!1}},{key:"generateMines",value:function(e,t,n){for(var a=e*t,i=n,r=[],s=0;s<t;s++){r[s]=[];for(var l=0;l<e;l++)r[s][l]={hasMine:!1,isMarked:!1,isVisible:!1}}for(var h=0;h<e;h++)for(var o=0;o<t;o++)i/a>=Math.random()&&v(o,h,t,e)&&(i--,r[o][h].hasMine=!0),a--;this.hidden=e*t,this.setState({board:r})}},{key:"beatGame",value:function(){this.setState({result:"Win"}),this.beatingGame||(this.beatingGame=!0,window.alert("You beat the game!"))}},{key:"onClickCell",value:function(e,t){var n=this,a=this.props.mines,i=this.state,r=i.board;if("playing"===i.result){if(this.isMarked(e,t))return;r[e][t].hasMine&&this.onGameOver();var s=r;this.isVisible(e,t)||(s[e][t].isVisible=!0,this.hidden--),0===this.cellValue(e,t)&&this.onClickZero(e,t),this.setState({board:s},function(){n.hidden===a&&n.beatGame()})}}},{key:"onRightClickCell",value:function(e,t,n){n.preventDefault();var a=this.state,i=a.board;"playing"===a.result&&(i[e][t].isMarked=!i[e][t].isMarked,this.setState({board:i}))}},{key:"onClickZero",value:function(e,t){for(var n=this.state.board,a=this.props,i=a.height,r=a.width,s=n,l=-1;l<=1;l++)for(var h=-1;h<=1;h++)b(e+l,0,r-1)&&b(t+h,0,i-1)&&!this.isVisible(e+l,t+h)&&(0===this.cellValue(e+l,t+h)?this.onClickCell(e+l,t+h):(s[e+l][t+h].isVisible=!0,this.hidden--));this.setState({board:s})}},{key:"onGameOver",value:function(){var e=this.state.board,t=this.props,n=t.height,a=t.width;window.alert("Game Over!");for(var i=e,r=0;r<a;r++)for(var s=0;s<n;s++)i[r][s].isVisible=!0;this.setState({board:i,result:"lost"})}},{key:"isVisible",value:function(e,t){return this.state.board[e][t].isVisible}},{key:"isMarked",value:function(e,t){return this.state.board[e][t].isMarked}},{key:"cellValue",value:function(e,t){var n=this.props,a=n.height,i=n.width,r=this.state.board;if(r[e][t].hasMine)return"B";for(var s=0,l=-1;l<=1;l++)for(var h=-1;h<=1;h++)b(e+l,0,i-1)&&b(t+h,0,a-1)&&r[e+l][t+h].hasMine&&s++;return s}},{key:"renderRow",value:function(e){for(var t=this.props.width,n=[],a=0;a<t;a++)n.push(i.a.createElement(m,{key:"cell_".concat(a,"_").concat(e),visible:this.isVisible(a,e),marked:this.isMarked(a,e),value:this.cellValue(a,e),onClick:this.onClickCell.bind(this,a,e),onContextMenu:this.onRightClickCell.bind(this,a,e)}));return n}},{key:"renderTable",value:function(){for(var e=this.props.height,t=[],n=0;n<e;n++)t.push(i.a.createElement("tr",{key:"row_".concat(n)},this.renderRow(n)));return i.a.createElement("table",{className:"Board"},i.a.createElement("tbody",null,t))}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width;return i.a.createElement("div",null,i.a.createElement("h1",null,"table ",t,"x",n),this.renderTable())}}]),t}(a.Component)),f=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={height:10,width:10,mines:10},n.form={height:10,width:10,mines:10},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:+t.value,a=t.name;("height"===a||"width"===a)&&n>50&&(n=50),this.setState(Object(l.a)({},a,n))}},{key:"render",value:function(){var e=this.state,t=e.height,n=e.width,a=e.mines;return i.a.createElement("div",{className:"App"},i.a.createElement("form",null,i.a.createElement("label",null,"Height:",i.a.createElement("input",{type:"number",name:"height",placeholder:"height",value:t,onChange:this.handleInputChange.bind(this)})),i.a.createElement("br",null),i.a.createElement("label",null,"Width:",i.a.createElement("input",{type:"number",name:"width",placeholder:"width",value:n,onChange:this.handleInputChange.bind(this)})),i.a.createElement("br",null),i.a.createElement("label",null,"Mines:",i.a.createElement("input",{type:"number",name:"mines",placeholder:"mines",value:a,onChange:this.handleInputChange.bind(this)}))),i.a.createElement(p,{height:this.state.height,width:this.state.width,mines:this.state.mines}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.5e7d5389.chunk.js.map