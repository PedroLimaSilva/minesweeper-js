(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(17)},17:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(10),s=a.n(r),l=a(6),h=a(1),o=a(2),c=a(4),u=a(3),d=a(5);function v(e,t,a){return e>=t&&e<=a}var b=a(11),m=a.n(b),p=function(e){function t(){return Object(h.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.onClick,i=t.onContextMenu,r=t.visible,s=t.marked,h=t.value;return n.a.createElement("div",{tabIndex:"0",className:m()("Cell",(e={visible:r},Object(l.a)(e,"value_".concat(h),r),Object(l.a)(e,"hidden",!r),Object(l.a)(e,"marked",s),e)),onClick:a,onContextMenu:i})}}]),t}(i.PureComponent),f=function(e){function t(){var e,a;Object(h.a)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={board:[],result:"playing"},a.beatingGame=!1,a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.height,a=e.width,i=e.mines;this.generateMines(t,a,i)}},{key:"componentWillReceiveProps",value:function(e){var t=e.height,a=e.width,i=e.mines;this.generateMines(t,a,i)}},{key:"resetState",value:function(){this.setState({board:[],result:"playing"}),this.beatingGame=!1}},{key:"generateMines",value:function(e,t,a){var i=e*t,n=a;this.resetState();for(var r=[],s=0;s<t;s++){r[s]=[];for(var l=0;l<e;l++)r[s][l]={hasMine:!1,isMarked:!1,isVisible:!1}}for(var h=0;h<e;h++)for(var o=0;o<t;o++)n/i>=Math.random()&&(n--,r[o][h].hasMine=!0),i--;this.hidden=e*t,this.setState({board:r})}},{key:"beatGame",value:function(){this.setState({result:"Win"}),this.beatingGame||"lost"===this.state.result||(this.beatingGame=!0,window.alert("You beat the game!"))}},{key:"onClickCell",value:function(e,t){var a=this,i=this.props.mines,n=this.state,r=n.board;if("playing"===n.result){if(this.isMarked(e,t))return;r[e][t].hasMine&&this.onGameOver();var s=r;this.isVisible(e,t)||(s[e][t].isVisible=!0,this.hidden--),0===this.cellValue(e,t)&&this.onClickZero(e,t),this.setState({board:s},function(){a.hidden===i&&a.beatGame()})}}},{key:"onRightClickCell",value:function(e,t,a){a.preventDefault();var i=this.state,n=i.board;"playing"===i.result&&(n[e][t].isMarked=!n[e][t].isMarked,this.setState({board:n}))}},{key:"onClickZero",value:function(e,t){for(var a=this.state.board,i=this.props,n=i.height,r=i.width,s=a,l=-1;l<=1;l++)for(var h=-1;h<=1;h++)v(e+l,0,r-1)&&v(t+h,0,n-1)&&!this.isVisible(e+l,t+h)&&(0===this.cellValue(e+l,t+h)?this.onClickCell(e+l,t+h):(s[e+l][t+h].isVisible=!0,this.hidden--));this.setState({board:s})}},{key:"onGameOver",value:function(){var e=this.state.board,t=this.props,a=t.height,i=t.width;window.alert("Game Over!");for(var n=e,r=0;r<i;r++)for(var s=0;s<a;s++)n[r][s].isVisible=!0;this.setState({board:n,result:"lost"})}},{key:"isVisible",value:function(e,t){return this.state.board[e][t].isVisible}},{key:"isMarked",value:function(e,t){return this.state.board[e][t].isMarked}},{key:"cellValue",value:function(e,t){var a=this.props,i=a.height,n=a.width,r=this.state.board;if(r[e][t].hasMine)return"B";for(var s=0,l=-1;l<=1;l++)for(var h=-1;h<=1;h++)v(e+l,0,n-1)&&v(t+h,0,i-1)&&r[e+l][t+h].hasMine&&s++;return s}},{key:"renderRow",value:function(e){for(var t=this.props.width,a=[],i=0;i<t;i++)a.push(n.a.createElement(p,{key:"cell_".concat(i,"_").concat(e),visible:this.isVisible(i,e),marked:this.isMarked(i,e),value:this.cellValue(i,e),onClick:this.onClickCell.bind(this,i,e),onContextMenu:this.onRightClickCell.bind(this,i,e)}));return a}},{key:"renderTable",value:function(){for(var e=this.props.height,t=[],a=0;a<e;a++)t.push(n.a.createElement("div",{className:"row",key:"row_".concat(a)},this.renderRow(a)));return n.a.createElement("div",{className:"Board"},t)}},{key:"render",value:function(){var e=this.props,t=e.height,a=e.width;return n.a.createElement("div",null,n.a.createElement("h1",null,"table ",t,"x",a),this.renderTable())}}]),t}(i.Component),k=function(e){function t(){var e,a;Object(h.a)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={height:10,width:10,mines:10},a.form={height:10,width:10,mines:10},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:+t.value,i=t.name;if(("height"===i||"width"===i)&&a>50&&(a=50),"mines"===i){var n=this.form.width*this.form.height;a>n&&(a=n)}this.setState(Object(l.a)({},i,a))}},{key:"render",value:function(){var e=this.state,t=e.height,a=e.width,i=e.mines;return n.a.createElement("div",{className:"App"},n.a.createElement("form",null,n.a.createElement("label",null,"Height:",n.a.createElement("input",{type:"number",name:"height",placeholder:"height",value:t,onChange:this.handleInputChange.bind(this)})),n.a.createElement("br",null),n.a.createElement("label",null,"Width:",n.a.createElement("input",{type:"number",name:"width",placeholder:"width",value:a,onChange:this.handleInputChange.bind(this)})),n.a.createElement("br",null),n.a.createElement("label",null,"Mines:",n.a.createElement("input",{type:"number",name:"mines",placeholder:"mines",value:i,onChange:this.handleInputChange.bind(this)}))),n.a.createElement(f,{height:this.state.height,width:this.state.width,mines:this.state.mines}))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.25bbc9f0.chunk.js.map